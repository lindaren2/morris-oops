import { InjectionToken, Directive, ElementRef, HostBinding, EventEmitter, Output, Inject, Input, NgModule } from '@angular/core';

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
/** @type {?} */
const WINDOW = new InjectionToken('WINDOW', {
    providedIn: 'root',
    factory: () => window
});

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
/**
 * A simple lightweight library for Angular with that detects when an
 * element is within the browsers viewport and adds a `in-viewport` or
 * `not-in-viewport` class to the element.
 *
 * \@example
 * ```html
 * <p
 *  class="foo"
 *  snInViewport
 *  (inViewportChange)="myEventHandler($event)">
 *  Amet tempor excepteur occaecat nulla.
 * </p>
 * ```
 */
// @dynamic
class InViewportDirective {
    /**
     * @param {?} el
     * @param {?} window
     */
    constructor(el, window) {
        this.el = el;
        this.window = window;
        this.inViewportChange = new EventEmitter();
        this.hasIntersectionObserver = this.intersectionObserverFeatureDetection();
    }
    /**
     * @return {?}
     */
    get isInViewport() {
        return this.inViewport;
    }
    /**
     * @return {?}
     */
    get isNotInViewport() {
        return !this.inViewport;
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        if (!this.hasIntersectionObserver) {
            this.inViewport = true;
            this.inViewportChange.emit(this.inViewport);
        }
    }
    /**
     * @return {?}
     */
    ngAfterViewInit() {
        if (this.hasIntersectionObserver) {
            /** @type {?} */
            const IntersectionObserver = this.window['IntersectionObserver'];
            this.observer = new IntersectionObserver(this.intersectionObserverCallback.bind(this), this.inViewportOptions);
            this.observer.observe(this.el.nativeElement);
        }
    }
    /**
     * @return {?}
     */
    ngOnDestroy() {
        if (this.observer) {
            this.observer.unobserve(this.el.nativeElement);
        }
    }
    /**
     * @param {?} entries
     * @return {?}
     */
    intersectionObserverCallback(entries) {
        entries.forEach(entry => {
            if (this.inViewport === entry.isIntersecting)
                return;
            this.inViewport = entry.isIntersecting;
            this.inViewportChange.emit(this.inViewport);
        });
    }
    /**
     * @private
     * @return {?}
     */
    intersectionObserverFeatureDetection() {
        // Exits early if all IntersectionObserver and IntersectionObserverEntry
        // features are natively supported.
        if ('IntersectionObserver' in this.window &&
            'IntersectionObserverEntry' in this.window) {
            // Minimal polyfill for Edge 15's lack of `isIntersecting`
            // See: https://github.com/w3c/IntersectionObserver/issues/211
            if (!('isIntersecting' in
                this.window['IntersectionObserverEntry']['prototype'])) {
                Object.defineProperty(this.window['IntersectionObserverEntry']['prototype'], 'isIntersecting', {
                    get: function () {
                        return this.intersectionRatio > 0;
                    }
                });
            }
            return true;
        }
        return false;
    }
}
InViewportDirective.decorators = [
    { type: Directive, args: [{
                selector: '[snInViewport]',
                exportAs: 'snInViewport'
            },] }
];
/** @nocollapse */
InViewportDirective.ctorParameters = () => [
    { type: ElementRef },
    { type: Window, decorators: [{ type: Inject, args: [WINDOW,] }] }
];
InViewportDirective.propDecorators = {
    inViewportOptions: [{ type: Input }],
    inViewportChange: [{ type: Output }],
    isInViewport: [{ type: HostBinding, args: ['class.sn-viewport--in',] }],
    isNotInViewport: [{ type: HostBinding, args: ['class.sn-viewport--out',] }]
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
/** @type {?} */
const WINDOW_MOCK_WITHOUT_INTERSECTION_OBSERVER = {
    closed: null,
    defaultStatus: null,
    document: null,
    frameElement: null,
    frames: null,
    history: null,
    innerHeight: null,
    innerWidth: null,
    length: null,
    localStorage: null,
    location: null,
    name: null,
    navigator: null,
    opener: null,
    outerHeight: null,
    outerWidth: null,
    pageXOffset: null,
    pageYOffset: null,
    parent: null,
    screen: null,
    screenLeft: null,
    screenTop: null,
    screenX: null,
    screenY: null,
    sessionStorage: null,
    scrollX: null,
    scrollY: null,
    self: null,
    status: null,
    top: null,
    addEventListener: (...args) => null,
    alert: (...args) => null,
    atob: (...args) => null,
    blur: (...args) => null,
    btoa: (...args) => null,
    clearInterval: (...args) => null,
    clearTimeout: (...args) => null,
    close: (...args) => null,
    confirm: (...args) => null,
    focus: (...args) => null,
    getComputedStyle: (...args) => null,
    getSelection: (...args) => null,
    matchMedia: (...args) => null,
    moveBy: (...args) => null,
    moveTo: (...args) => null,
    open: (...args) => null,
    print: (...args) => null,
    prompt: (...args) => null,
    resizeBy: (...args) => null,
    resizeTo: (...args) => null,
    removeEventListener: (...args) => null,
    scroll: (...args) => null,
    scrollBy: (...args) => null,
    scrollTo: (...args) => null,
    setInterval: (...args) => null,
    setTimeout: (...args) => null,
    stop: (...args) => null
};
/** @type {?} */
const WINDOW_MOCK = Object.assign({}, WINDOW_MOCK_WITHOUT_INTERSECTION_OBSERVER, { IntersectionObserver: (...args) => ({
        observe: () => null,
        unobserve: () => null
    }), IntersectionObserverEntry: class IntersectionObserverEntryMock {
    } });

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
/**
 * A simple lightweight library for Angular with other dependencies
 * that detects when an element is within the browsers viewport and adds a
 * sn-viewport--in or sn-viewport--out class to the element.
 */
class InViewportModule {
    /**
     * @return {?}
     */
    static forServer() {
        return {
            ngModule: InViewportModule,
            providers: [{ provide: WINDOW, useValue: WINDOW_MOCK }]
        };
    }
}
InViewportModule.decorators = [
    { type: NgModule, args: [{
                declarations: [InViewportDirective],
                exports: [InViewportDirective]
            },] }
];

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */

export { InViewportModule, InViewportDirective, WINDOW_MOCK, WINDOW };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGhpc2lzc29vbi1hbmd1bGFyLWludmlld3BvcnQuanMubWFwIiwic291cmNlcyI6WyJuZzovL0B0aGlzaXNzb29uL2FuZ3VsYXItaW52aWV3cG9ydC9hcHAvd2luZG93L3dpbmRvdy10b2tlbi50cyIsIm5nOi8vQHRoaXNpc3Nvb24vYW5ndWxhci1pbnZpZXdwb3J0L2FwcC9pbi12aWV3cG9ydC9pbi12aWV3cG9ydC5kaXJlY3RpdmUudHMiLCJuZzovL0B0aGlzaXNzb29uL2FuZ3VsYXItaW52aWV3cG9ydC9hcHAvd2luZG93L3dpbmRvdy1tb2NrLnRzIiwibmc6Ly9AdGhpc2lzc29vbi9hbmd1bGFyLWludmlld3BvcnQvYXBwL2luLXZpZXdwb3J0L2luLXZpZXdwb3J0Lm1vZHVsZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3Rpb25Ub2tlbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5leHBvcnQgY29uc3QgV0lORE9XID0gbmV3IEluamVjdGlvblRva2VuPFdpbmRvdz4oJ1dJTkRPVycsIHtcbiAgcHJvdmlkZWRJbjogJ3Jvb3QnLFxuICBmYWN0b3J5OiAoKSA9PiB3aW5kb3dcbn0pO1xuIiwiaW1wb3J0IHtcbiAgRGlyZWN0aXZlLFxuICBFbGVtZW50UmVmLFxuICBIb3N0QmluZGluZyxcbiAgRXZlbnRFbWl0dGVyLFxuICBPdXRwdXQsXG4gIE9uRGVzdHJveSxcbiAgQWZ0ZXJWaWV3SW5pdCxcbiAgSW5qZWN0LFxuICBJbnB1dCxcbiAgT25Jbml0XG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgV0lORE9XIH0gZnJvbSAnLi4vd2luZG93L3dpbmRvdy10b2tlbic7XG5cbi8qKlxuICogQSBzaW1wbGUgbGlnaHR3ZWlnaHQgbGlicmFyeSBmb3IgQW5ndWxhciB3aXRoIHRoYXQgZGV0ZWN0cyB3aGVuIGFuXG4gKiBlbGVtZW50IGlzIHdpdGhpbiB0aGUgYnJvd3NlcnMgdmlld3BvcnQgYW5kIGFkZHMgYSBgaW4tdmlld3BvcnRgIG9yXG4gKiBgbm90LWluLXZpZXdwb3J0YCBjbGFzcyB0byB0aGUgZWxlbWVudC5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgaHRtbFxuICogPHBcbiAqICBjbGFzcz1cImZvb1wiXG4gKiAgc25JblZpZXdwb3J0XG4gKiAgKGluVmlld3BvcnRDaGFuZ2UpPVwibXlFdmVudEhhbmRsZXIoJGV2ZW50KVwiPlxuICogIEFtZXQgdGVtcG9yIGV4Y2VwdGV1ciBvY2NhZWNhdCBudWxsYS5cbiAqIDwvcD5cbiAqIGBgYFxuICovXG4vLyBAZHluYW1pY1xuQERpcmVjdGl2ZSh7XG4gIHNlbGVjdG9yOiAnW3NuSW5WaWV3cG9ydF0nLFxuICBleHBvcnRBczogJ3NuSW5WaWV3cG9ydCdcbn0pXG5leHBvcnQgY2xhc3MgSW5WaWV3cG9ydERpcmVjdGl2ZSBpbXBsZW1lbnRzIEFmdGVyVmlld0luaXQsIE9uRGVzdHJveSwgT25Jbml0IHtcbiAgcHJpdmF0ZSBpblZpZXdwb3J0OiBib29sZWFuO1xuICBwcml2YXRlIGhhc0ludGVyc2VjdGlvbk9ic2VydmVyOiBib29sZWFuO1xuICBASW5wdXQoKVxuICBpblZpZXdwb3J0T3B0aW9uczogSW50ZXJzZWN0aW9uT2JzZXJ2ZXJJbml0O1xuICBAT3V0cHV0KClcbiAgaW5WaWV3cG9ydENoYW5nZSA9IG5ldyBFdmVudEVtaXR0ZXI8Ym9vbGVhbj4oKTtcbiAgb2JzZXJ2ZXI6IEludGVyc2VjdGlvbk9ic2VydmVyO1xuXG4gIEBIb3N0QmluZGluZygnY2xhc3Muc24tdmlld3BvcnQtLWluJylcbiAgZ2V0IGlzSW5WaWV3cG9ydCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5pblZpZXdwb3J0O1xuICB9XG5cbiAgQEhvc3RCaW5kaW5nKCdjbGFzcy5zbi12aWV3cG9ydC0tb3V0JylcbiAgZ2V0IGlzTm90SW5WaWV3cG9ydCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gIXRoaXMuaW5WaWV3cG9ydDtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgZWw6IEVsZW1lbnRSZWYsIEBJbmplY3QoV0lORE9XKSBwcml2YXRlIHdpbmRvdzogV2luZG93KSB7XG4gICAgdGhpcy5oYXNJbnRlcnNlY3Rpb25PYnNlcnZlciA9IHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXJGZWF0dXJlRGV0ZWN0aW9uKCk7XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcbiAgICBpZiAoIXRoaXMuaGFzSW50ZXJzZWN0aW9uT2JzZXJ2ZXIpIHtcbiAgICAgIHRoaXMuaW5WaWV3cG9ydCA9IHRydWU7XG4gICAgICB0aGlzLmluVmlld3BvcnRDaGFuZ2UuZW1pdCh0aGlzLmluVmlld3BvcnQpO1xuICAgIH1cbiAgfVxuXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAgICBpZiAodGhpcy5oYXNJbnRlcnNlY3Rpb25PYnNlcnZlcikge1xuICAgICAgY29uc3QgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPSB0aGlzLndpbmRvd1snSW50ZXJzZWN0aW9uT2JzZXJ2ZXInXTtcbiAgICAgIHRoaXMub2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXG4gICAgICAgIHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXJDYWxsYmFjay5iaW5kKHRoaXMpLFxuICAgICAgICB0aGlzLmluVmlld3BvcnRPcHRpb25zXG4gICAgICApO1xuXG4gICAgICB0aGlzLm9ic2VydmVyLm9ic2VydmUodGhpcy5lbC5uYXRpdmVFbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICBuZ09uRGVzdHJveSgpIHtcbiAgICBpZiAodGhpcy5vYnNlcnZlcikge1xuICAgICAgdGhpcy5vYnNlcnZlci51bm9ic2VydmUodGhpcy5lbC5uYXRpdmVFbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICBpbnRlcnNlY3Rpb25PYnNlcnZlckNhbGxiYWNrKGVudHJpZXM6IEludGVyc2VjdGlvbk9ic2VydmVyRW50cnlbXSkge1xuICAgIGVudHJpZXMuZm9yRWFjaChlbnRyeSA9PiB7XG4gICAgICBpZiAodGhpcy5pblZpZXdwb3J0ID09PSBlbnRyeS5pc0ludGVyc2VjdGluZykgcmV0dXJuO1xuICAgICAgdGhpcy5pblZpZXdwb3J0ID0gZW50cnkuaXNJbnRlcnNlY3Rpbmc7XG4gICAgICB0aGlzLmluVmlld3BvcnRDaGFuZ2UuZW1pdCh0aGlzLmluVmlld3BvcnQpO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBpbnRlcnNlY3Rpb25PYnNlcnZlckZlYXR1cmVEZXRlY3Rpb24oKSB7XG4gICAgLy8gRXhpdHMgZWFybHkgaWYgYWxsIEludGVyc2VjdGlvbk9ic2VydmVyIGFuZCBJbnRlcnNlY3Rpb25PYnNlcnZlckVudHJ5XG4gICAgLy8gZmVhdHVyZXMgYXJlIG5hdGl2ZWx5IHN1cHBvcnRlZC5cbiAgICBpZiAoXG4gICAgICAnSW50ZXJzZWN0aW9uT2JzZXJ2ZXInIGluIHRoaXMud2luZG93ICYmXG4gICAgICAnSW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeScgaW4gdGhpcy53aW5kb3dcbiAgICApIHtcbiAgICAgIC8vIE1pbmltYWwgcG9seWZpbGwgZm9yIEVkZ2UgMTUncyBsYWNrIG9mIGBpc0ludGVyc2VjdGluZ2BcbiAgICAgIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL3czYy9JbnRlcnNlY3Rpb25PYnNlcnZlci9pc3N1ZXMvMjExXG4gICAgICBpZiAoXG4gICAgICAgICEoXG4gICAgICAgICAgJ2lzSW50ZXJzZWN0aW5nJyBpblxuICAgICAgICAgIHRoaXMud2luZG93WydJbnRlcnNlY3Rpb25PYnNlcnZlckVudHJ5J11bJ3Byb3RvdHlwZSddXG4gICAgICAgIClcbiAgICAgICkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoXG4gICAgICAgICAgdGhpcy53aW5kb3dbJ0ludGVyc2VjdGlvbk9ic2VydmVyRW50cnknXVsncHJvdG90eXBlJ10sXG4gICAgICAgICAgJ2lzSW50ZXJzZWN0aW5nJyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pbnRlcnNlY3Rpb25SYXRpbyA+IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IFdJTkRPV19NT0NLX1dJVEhPVVRfSU5URVJTRUNUSU9OX09CU0VSVkVSID0ge1xuICBjbG9zZWQ6IG51bGwsXG4gIGRlZmF1bHRTdGF0dXM6IG51bGwsXG4gIGRvY3VtZW50OiBudWxsLFxuICBmcmFtZUVsZW1lbnQ6IG51bGwsXG4gIGZyYW1lczogbnVsbCxcbiAgaGlzdG9yeTogbnVsbCxcbiAgaW5uZXJIZWlnaHQ6IG51bGwsXG4gIGlubmVyV2lkdGg6IG51bGwsXG4gIGxlbmd0aDogbnVsbCxcbiAgbG9jYWxTdG9yYWdlOiBudWxsLFxuICBsb2NhdGlvbjogbnVsbCxcbiAgbmFtZTogbnVsbCxcbiAgbmF2aWdhdG9yOiBudWxsLFxuICBvcGVuZXI6IG51bGwsXG4gIG91dGVySGVpZ2h0OiBudWxsLFxuICBvdXRlcldpZHRoOiBudWxsLFxuICBwYWdlWE9mZnNldDogbnVsbCxcbiAgcGFnZVlPZmZzZXQ6IG51bGwsXG4gIHBhcmVudDogbnVsbCxcbiAgc2NyZWVuOiBudWxsLFxuICBzY3JlZW5MZWZ0OiBudWxsLFxuICBzY3JlZW5Ub3A6IG51bGwsXG4gIHNjcmVlblg6IG51bGwsXG4gIHNjcmVlblk6IG51bGwsXG4gIHNlc3Npb25TdG9yYWdlOiBudWxsLFxuICBzY3JvbGxYOiBudWxsLFxuICBzY3JvbGxZOiBudWxsLFxuICBzZWxmOiBudWxsLFxuICBzdGF0dXM6IG51bGwsXG4gIHRvcDogbnVsbCxcbiAgYWRkRXZlbnRMaXN0ZW5lcjogKC4uLmFyZ3MpID0+IG51bGwsXG4gIGFsZXJ0OiAoLi4uYXJncykgPT4gbnVsbCxcbiAgYXRvYjogKC4uLmFyZ3MpID0+IG51bGwsXG4gIGJsdXI6ICguLi5hcmdzKSA9PiBudWxsLFxuICBidG9hOiAoLi4uYXJncykgPT4gbnVsbCxcbiAgY2xlYXJJbnRlcnZhbDogKC4uLmFyZ3MpID0+IG51bGwsXG4gIGNsZWFyVGltZW91dDogKC4uLmFyZ3MpID0+IG51bGwsXG4gIGNsb3NlOiAoLi4uYXJncykgPT4gbnVsbCxcbiAgY29uZmlybTogKC4uLmFyZ3MpID0+IG51bGwsXG4gIGZvY3VzOiAoLi4uYXJncykgPT4gbnVsbCxcbiAgZ2V0Q29tcHV0ZWRTdHlsZTogKC4uLmFyZ3MpID0+IG51bGwsXG4gIGdldFNlbGVjdGlvbjogKC4uLmFyZ3MpID0+IG51bGwsXG4gIG1hdGNoTWVkaWE6ICguLi5hcmdzKSA9PiBudWxsLFxuICBtb3ZlQnk6ICguLi5hcmdzKSA9PiBudWxsLFxuICBtb3ZlVG86ICguLi5hcmdzKSA9PiBudWxsLFxuICBvcGVuOiAoLi4uYXJncykgPT4gbnVsbCxcbiAgcHJpbnQ6ICguLi5hcmdzKSA9PiBudWxsLFxuICBwcm9tcHQ6ICguLi5hcmdzKSA9PiBudWxsLFxuICByZXNpemVCeTogKC4uLmFyZ3MpID0+IG51bGwsXG4gIHJlc2l6ZVRvOiAoLi4uYXJncykgPT4gbnVsbCxcbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcjogKC4uLmFyZ3MpID0+IG51bGwsXG4gIHNjcm9sbDogKC4uLmFyZ3MpID0+IG51bGwsXG4gIHNjcm9sbEJ5OiAoLi4uYXJncykgPT4gbnVsbCxcbiAgc2Nyb2xsVG86ICguLi5hcmdzKSA9PiBudWxsLFxuICBzZXRJbnRlcnZhbDogKC4uLmFyZ3MpID0+IG51bGwsXG4gIHNldFRpbWVvdXQ6ICguLi5hcmdzKSA9PiBudWxsLFxuICBzdG9wOiAoLi4uYXJncykgPT4gbnVsbFxufTtcblxuZXhwb3J0IGNvbnN0IFdJTkRPV19NT0NLID0ge1xuICAuLi5XSU5ET1dfTU9DS19XSVRIT1VUX0lOVEVSU0VDVElPTl9PQlNFUlZFUixcbiAgSW50ZXJzZWN0aW9uT2JzZXJ2ZXI6ICguLi5hcmdzKSA9PiAoe1xuICAgIG9ic2VydmU6ICgpID0+IG51bGwsXG4gICAgdW5vYnNlcnZlOiAoKSA9PiBudWxsXG4gIH0pLFxuICBJbnRlcnNlY3Rpb25PYnNlcnZlckVudHJ5OiBjbGFzcyBJbnRlcnNlY3Rpb25PYnNlcnZlckVudHJ5TW9jayB7fVxufTtcbiIsImltcG9ydCB7IE5nTW9kdWxlLCBNb2R1bGVXaXRoUHJvdmlkZXJzIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IEluVmlld3BvcnREaXJlY3RpdmUgfSBmcm9tICcuL2luLXZpZXdwb3J0LmRpcmVjdGl2ZSc7XG5pbXBvcnQgeyBXSU5ET1cgfSBmcm9tICcuLi93aW5kb3cvd2luZG93LXRva2VuJztcbmltcG9ydCB7IFdJTkRPV19NT0NLIH0gZnJvbSAnLi4vd2luZG93L3dpbmRvdy1tb2NrJztcblxuLyoqXG4gKiBBIHNpbXBsZSBsaWdodHdlaWdodCBsaWJyYXJ5IGZvciBBbmd1bGFyIHdpdGggb3RoZXIgZGVwZW5kZW5jaWVzXG4gKiB0aGF0IGRldGVjdHMgd2hlbiBhbiBlbGVtZW50IGlzIHdpdGhpbiB0aGUgYnJvd3NlcnMgdmlld3BvcnQgYW5kIGFkZHMgYVxuICogc24tdmlld3BvcnQtLWluIG9yIHNuLXZpZXdwb3J0LS1vdXQgY2xhc3MgdG8gdGhlIGVsZW1lbnQuXG4gKi9cbkBOZ01vZHVsZSh7XG4gIGRlY2xhcmF0aW9uczogW0luVmlld3BvcnREaXJlY3RpdmVdLFxuICBleHBvcnRzOiBbSW5WaWV3cG9ydERpcmVjdGl2ZV1cbn0pXG5leHBvcnQgY2xhc3MgSW5WaWV3cG9ydE1vZHVsZSB7XG4gIHN0YXRpYyBmb3JTZXJ2ZXIoKTogTW9kdWxlV2l0aFByb3ZpZGVycyB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5nTW9kdWxlOiBJblZpZXdwb3J0TW9kdWxlLFxuICAgICAgcHJvdmlkZXJzOiBbeyBwcm92aWRlOiBXSU5ET1csIHVzZVZhbHVlOiBXSU5ET1dfTU9DSyB9XVxuICAgIH07XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUVBLE1BQWEsTUFBTSxHQUFHLElBQUksY0FBYyxDQUFTLFFBQVEsRUFBRTtJQUN6RCxVQUFVLEVBQUUsTUFBTTtJQUNsQixPQUFPLEVBQUUsTUFBTSxNQUFNO0NBQ3RCLENBQUM7Ozs7OztBQ0xGOzs7Ozs7Ozs7Ozs7Ozs7O0FBa0NBLE1BQWEsbUJBQW1COzs7OztJQW1COUIsWUFBb0IsRUFBYyxFQUEwQixNQUFjO1FBQXRELE9BQUUsR0FBRixFQUFFLENBQVk7UUFBMEIsV0FBTSxHQUFOLE1BQU0sQ0FBUTtRQWIxRSxxQkFBZ0IsR0FBRyxJQUFJLFlBQVksRUFBVyxDQUFDO1FBYzdDLElBQUksQ0FBQyx1QkFBdUIsR0FBRyxJQUFJLENBQUMsb0NBQW9DLEVBQUUsQ0FBQztLQUM1RTs7OztJQVpELElBQ0ksWUFBWTtRQUNkLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQztLQUN4Qjs7OztJQUVELElBQ0ksZUFBZTtRQUNqQixPQUFPLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQztLQUN6Qjs7OztJQU1ELFFBQVE7UUFDTixJQUFJLENBQUMsSUFBSSxDQUFDLHVCQUF1QixFQUFFO1lBQ2pDLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO1lBQ3ZCLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1NBQzdDO0tBQ0Y7Ozs7SUFFRCxlQUFlO1FBQ2IsSUFBSSxJQUFJLENBQUMsdUJBQXVCLEVBQUU7O2tCQUMxQixvQkFBb0IsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLHNCQUFzQixDQUFDO1lBQ2hFLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxvQkFBb0IsQ0FDdEMsSUFBSSxDQUFDLDRCQUE0QixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFDNUMsSUFBSSxDQUFDLGlCQUFpQixDQUN2QixDQUFDO1lBRUYsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxhQUFhLENBQUMsQ0FBQztTQUM5QztLQUNGOzs7O0lBRUQsV0FBVztRQUNULElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUNqQixJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1NBQ2hEO0tBQ0Y7Ozs7O0lBRUQsNEJBQTRCLENBQUMsT0FBb0M7UUFDL0QsT0FBTyxDQUFDLE9BQU8sQ0FBQyxLQUFLO1lBQ25CLElBQUksSUFBSSxDQUFDLFVBQVUsS0FBSyxLQUFLLENBQUMsY0FBYztnQkFBRSxPQUFPO1lBQ3JELElBQUksQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFDLGNBQWMsQ0FBQztZQUN2QyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztTQUM3QyxDQUFDLENBQUM7S0FDSjs7Ozs7SUFFTyxvQ0FBb0M7OztRQUcxQyxJQUNFLHNCQUFzQixJQUFJLElBQUksQ0FBQyxNQUFNO1lBQ3JDLDJCQUEyQixJQUFJLElBQUksQ0FBQyxNQUFNLEVBQzFDOzs7WUFHQSxJQUNFLEVBQ0UsZ0JBQWdCO2dCQUNoQixJQUFJLENBQUMsTUFBTSxDQUFDLDJCQUEyQixDQUFDLENBQUMsV0FBVyxDQUFDLENBQ3RELEVBQ0Q7Z0JBQ0EsTUFBTSxDQUFDLGNBQWMsQ0FDbkIsSUFBSSxDQUFDLE1BQU0sQ0FBQywyQkFBMkIsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxFQUNyRCxnQkFBZ0IsRUFDaEI7b0JBQ0UsR0FBRyxFQUFFO3dCQUNILE9BQU8sSUFBSSxDQUFDLGlCQUFpQixHQUFHLENBQUMsQ0FBQztxQkFDbkM7aUJBQ0YsQ0FDRixDQUFDO2FBQ0g7WUFDRCxPQUFPLElBQUksQ0FBQztTQUNiO1FBQ0QsT0FBTyxLQUFLLENBQUM7S0FDZDs7O1lBeEZGLFNBQVMsU0FBQztnQkFDVCxRQUFRLEVBQUUsZ0JBQWdCO2dCQUMxQixRQUFRLEVBQUUsY0FBYzthQUN6Qjs7OztZQS9CQyxVQUFVO1lBbUQwRCxNQUFNLHVCQUFyQyxNQUFNLFNBQUMsTUFBTTs7O2dDQWhCakQsS0FBSzsrQkFFTCxNQUFNOzJCQUlOLFdBQVcsU0FBQyx1QkFBdUI7OEJBS25DLFdBQVcsU0FBQyx3QkFBd0I7Ozs7Ozs7O0FDaER2QyxNQUFhLHlDQUF5QyxHQUFHO0lBQ3ZELE1BQU0sRUFBRSxJQUFJO0lBQ1osYUFBYSxFQUFFLElBQUk7SUFDbkIsUUFBUSxFQUFFLElBQUk7SUFDZCxZQUFZLEVBQUUsSUFBSTtJQUNsQixNQUFNLEVBQUUsSUFBSTtJQUNaLE9BQU8sRUFBRSxJQUFJO0lBQ2IsV0FBVyxFQUFFLElBQUk7SUFDakIsVUFBVSxFQUFFLElBQUk7SUFDaEIsTUFBTSxFQUFFLElBQUk7SUFDWixZQUFZLEVBQUUsSUFBSTtJQUNsQixRQUFRLEVBQUUsSUFBSTtJQUNkLElBQUksRUFBRSxJQUFJO0lBQ1YsU0FBUyxFQUFFLElBQUk7SUFDZixNQUFNLEVBQUUsSUFBSTtJQUNaLFdBQVcsRUFBRSxJQUFJO0lBQ2pCLFVBQVUsRUFBRSxJQUFJO0lBQ2hCLFdBQVcsRUFBRSxJQUFJO0lBQ2pCLFdBQVcsRUFBRSxJQUFJO0lBQ2pCLE1BQU0sRUFBRSxJQUFJO0lBQ1osTUFBTSxFQUFFLElBQUk7SUFDWixVQUFVLEVBQUUsSUFBSTtJQUNoQixTQUFTLEVBQUUsSUFBSTtJQUNmLE9BQU8sRUFBRSxJQUFJO0lBQ2IsT0FBTyxFQUFFLElBQUk7SUFDYixjQUFjLEVBQUUsSUFBSTtJQUNwQixPQUFPLEVBQUUsSUFBSTtJQUNiLE9BQU8sRUFBRSxJQUFJO0lBQ2IsSUFBSSxFQUFFLElBQUk7SUFDVixNQUFNLEVBQUUsSUFBSTtJQUNaLEdBQUcsRUFBRSxJQUFJO0lBQ1QsZ0JBQWdCLEVBQUUsQ0FBQyxHQUFHLElBQUksS0FBSyxJQUFJO0lBQ25DLEtBQUssRUFBRSxDQUFDLEdBQUcsSUFBSSxLQUFLLElBQUk7SUFDeEIsSUFBSSxFQUFFLENBQUMsR0FBRyxJQUFJLEtBQUssSUFBSTtJQUN2QixJQUFJLEVBQUUsQ0FBQyxHQUFHLElBQUksS0FBSyxJQUFJO0lBQ3ZCLElBQUksRUFBRSxDQUFDLEdBQUcsSUFBSSxLQUFLLElBQUk7SUFDdkIsYUFBYSxFQUFFLENBQUMsR0FBRyxJQUFJLEtBQUssSUFBSTtJQUNoQyxZQUFZLEVBQUUsQ0FBQyxHQUFHLElBQUksS0FBSyxJQUFJO0lBQy9CLEtBQUssRUFBRSxDQUFDLEdBQUcsSUFBSSxLQUFLLElBQUk7SUFDeEIsT0FBTyxFQUFFLENBQUMsR0FBRyxJQUFJLEtBQUssSUFBSTtJQUMxQixLQUFLLEVBQUUsQ0FBQyxHQUFHLElBQUksS0FBSyxJQUFJO0lBQ3hCLGdCQUFnQixFQUFFLENBQUMsR0FBRyxJQUFJLEtBQUssSUFBSTtJQUNuQyxZQUFZLEVBQUUsQ0FBQyxHQUFHLElBQUksS0FBSyxJQUFJO0lBQy9CLFVBQVUsRUFBRSxDQUFDLEdBQUcsSUFBSSxLQUFLLElBQUk7SUFDN0IsTUFBTSxFQUFFLENBQUMsR0FBRyxJQUFJLEtBQUssSUFBSTtJQUN6QixNQUFNLEVBQUUsQ0FBQyxHQUFHLElBQUksS0FBSyxJQUFJO0lBQ3pCLElBQUksRUFBRSxDQUFDLEdBQUcsSUFBSSxLQUFLLElBQUk7SUFDdkIsS0FBSyxFQUFFLENBQUMsR0FBRyxJQUFJLEtBQUssSUFBSTtJQUN4QixNQUFNLEVBQUUsQ0FBQyxHQUFHLElBQUksS0FBSyxJQUFJO0lBQ3pCLFFBQVEsRUFBRSxDQUFDLEdBQUcsSUFBSSxLQUFLLElBQUk7SUFDM0IsUUFBUSxFQUFFLENBQUMsR0FBRyxJQUFJLEtBQUssSUFBSTtJQUMzQixtQkFBbUIsRUFBRSxDQUFDLEdBQUcsSUFBSSxLQUFLLElBQUk7SUFDdEMsTUFBTSxFQUFFLENBQUMsR0FBRyxJQUFJLEtBQUssSUFBSTtJQUN6QixRQUFRLEVBQUUsQ0FBQyxHQUFHLElBQUksS0FBSyxJQUFJO0lBQzNCLFFBQVEsRUFBRSxDQUFDLEdBQUcsSUFBSSxLQUFLLElBQUk7SUFDM0IsV0FBVyxFQUFFLENBQUMsR0FBRyxJQUFJLEtBQUssSUFBSTtJQUM5QixVQUFVLEVBQUUsQ0FBQyxHQUFHLElBQUksS0FBSyxJQUFJO0lBQzdCLElBQUksRUFBRSxDQUFDLEdBQUcsSUFBSSxLQUFLLElBQUk7Q0FDeEI7O0FBRUQsTUFBYSxXQUFXLHFCQUNuQix5Q0FBeUMsSUFDNUMsb0JBQW9CLEVBQUUsQ0FBQyxHQUFHLElBQUksTUFBTTtRQUNsQyxPQUFPLEVBQUUsTUFBTSxJQUFJO1FBQ25CLFNBQVMsRUFBRSxNQUFNLElBQUk7S0FDdEIsQ0FBQyxFQUNGLHlCQUF5QixFQUFFLE1BQU0sNkJBQTZCO0tBQUcsR0FDbEU7Ozs7OztBQ25FRDs7Ozs7QUFlQSxNQUFhLGdCQUFnQjs7OztJQUMzQixPQUFPLFNBQVM7UUFDZCxPQUFPO1lBQ0wsUUFBUSxFQUFFLGdCQUFnQjtZQUMxQixTQUFTLEVBQUUsQ0FBQyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLFdBQVcsRUFBRSxDQUFDO1NBQ3hELENBQUM7S0FDSDs7O1lBVkYsUUFBUSxTQUFDO2dCQUNSLFlBQVksRUFBRSxDQUFDLG1CQUFtQixDQUFDO2dCQUNuQyxPQUFPLEVBQUUsQ0FBQyxtQkFBbUIsQ0FBQzthQUMvQjs7Ozs7Ozs7Ozs7Ozs7OyJ9