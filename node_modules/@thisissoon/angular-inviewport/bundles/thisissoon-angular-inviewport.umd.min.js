!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core")):"function"==typeof define&&define.amd?define("@thisissoon/angular-inviewport",["exports","@angular/core"],e):e((n.thisissoon=n.thisissoon||{},n.thisissoon["angular-inviewport"]={}),n.ng.core)}(this,function(n,t){"use strict";var e=new t.InjectionToken("WINDOW",{providedIn:"root",factory:function(){return window}}),r=function(){function n(n,e){this.el=n,this.window=e,this.inViewportChange=new t.EventEmitter,this.hasIntersectionObserver=this.intersectionObserverFeatureDetection()}return Object.defineProperty(n.prototype,"isInViewport",{get:function(){return this.inViewport},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isNotInViewport",{get:function(){return!this.inViewport},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){this.hasIntersectionObserver||(this.inViewport=!0,this.inViewportChange.emit(this.inViewport))},n.prototype.ngAfterViewInit=function(){if(this.hasIntersectionObserver){var n=this.window.IntersectionObserver;this.observer=new n(this.intersectionObserverCallback.bind(this),this.inViewportOptions),this.observer.observe(this.el.nativeElement)}},n.prototype.ngOnDestroy=function(){this.observer&&this.observer.unobserve(this.el.nativeElement)},n.prototype.intersectionObserverCallback=function(n){var e=this;n.forEach(function(n){e.inViewport!==n.isIntersecting&&(e.inViewport=n.isIntersecting,e.inViewportChange.emit(e.inViewport))})},n.prototype.intersectionObserverFeatureDetection=function(){return"IntersectionObserver"in this.window&&"IntersectionObserverEntry"in this.window&&("isIntersecting"in this.window.IntersectionObserverEntry.prototype||Object.defineProperty(this.window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}}),!0)},n.decorators=[{type:t.Directive,args:[{selector:"[snInViewport]",exportAs:"snInViewport"}]}],n.ctorParameters=function(){return[{type:t.ElementRef},{type:Window,decorators:[{type:t.Inject,args:[e]}]}]},n.propDecorators={inViewportOptions:[{type:t.Input}],inViewportChange:[{type:t.Output}],isInViewport:[{type:t.HostBinding,args:["class.sn-viewport--in"]}],isNotInViewport:[{type:t.HostBinding,args:["class.sn-viewport--out"]}]},n}(),o=function(){return(o=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}).apply(this,arguments)},i=o({},{closed:null,defaultStatus:null,document:null,frameElement:null,frames:null,history:null,innerHeight:null,innerWidth:null,length:null,localStorage:null,location:null,name:null,navigator:null,opener:null,outerHeight:null,outerWidth:null,pageXOffset:null,pageYOffset:null,parent:null,screen:null,screenLeft:null,screenTop:null,screenX:null,screenY:null,sessionStorage:null,scrollX:null,scrollY:null,self:null,status:null,top:null,addEventListener:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return null},alert:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return null},atob:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return null},blur:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return null},btoa:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return null},clearInterval:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return null},clearTimeout:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return null},close:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return null},confirm:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return null},focus:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return null},getComputedStyle:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return null},getSelection:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return null},matchMedia:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return null},moveBy:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return null},moveTo:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return null},open:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return null},print:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return null},prompt:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return null},resizeBy:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return null},resizeTo:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return null},removeEventListener:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return null},scroll:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return null},scrollBy:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return null},scrollTo:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return null},setInterval:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return null},setTimeout:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return null},stop:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return null}},{IntersectionObserver:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return{observe:function(){return null},unobserve:function(){return null}}},IntersectionObserverEntry:function u(){}}),l=function(){function n(){}return n.forServer=function(){return{ngModule:n,providers:[{provide:e,useValue:i}]}},n.decorators=[{type:t.NgModule,args:[{declarations:[r],exports:[r]}]}],n}();n.InViewportModule=l,n.InViewportDirective=r,n.WINDOW_MOCK=i,n.WINDOW=e,Object.defineProperty(n,"__esModule",{value:!0})});
//# sourceMappingURL=thisissoon-angular-inviewport.umd.min.js.map